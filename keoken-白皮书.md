# Keoken

*用于扩展区块链功能的开放协议。*

*Juan Garavaglia, Fernando Pelliccioni, Mario Dal Lago, Ramiro Carlucho, Dario Ramos, Guillermo Paoletti, Gerardo Arceri, Renzo Barrionuevo, Mateo Friedman & Mariano Orsili.*

**_Bitprim Argentina SRL_**

dev@bitprim.org

## 简介

自Satoshi Nakamoto发布白皮书推出比特币以来，一个充满活力的生态系统页随之建立起来。 P2P电子现金的愿景扩大了我们如何在各方之间进行交易的视野。今天，我们拥有一个经过充分验证的技术和稳固的运营平台，可以通过理想的去中心化和不可篡改来记录价值的无需信任的转让。

加密货币的诞生可以促进商业发展; 避免中心机构控制交易媒介，交易双方可以自由交易。 

促进商业活动对创造财富有直接影响，从而在经济发展中提高商业利益。

*Keoken* 是一个位于加密货币层之上的分布式商业开发平台。 其主要任务是构建分布式交易。

交易就必然涉及货币，没有货币，交易就会变得更加复杂又低效。然而贸易需要几种不同类型的交易，而不仅仅是在两方之间价值转移。 该第二层协议允许大量使用加密货币，提供商业中使用的所需交易方式。

现实世界交易有几种常用的基本交易方式，如现金，信用卡/借记卡，银行转账，信用证，银行支票，期货等。 还有许多常用的交易，它们没有货币性质，如证券，所有权和其他。 虽然比特币平台有一个经过充分验证的系统，可以在native端中进行交易，但它缺乏（或者执行起来太复杂）更复杂的交易类型或使用任何其他资产，而非仅仅它的native token。 比特币确保交易不可逆，无需信任且具有良好的隐私性，而在商业中，有时需要放宽一个或多个这些特征以利于方便，从而提高可用性和采用率。

参与交易的各方必须能够自由地确定他们在执行所述交易时感到舒适接受的信任或可逆性水平。 自由定义其使用的交易规则是 Keoken 协议的核心之一。

只有少数不适合此默认交易类型的交易，使用自定义合约来定义交易的特定规则。 只有当常规交易类型不符合协议的性质时，才需要合约。 由于合约更复杂，因此创建和解释的成本更高。 在最坏的情况下，合约的内在复杂性可能会产生意想不到的结果，甚至会被恶意滥用，而合约本身无意中（或不是）会打开攻击面。 虽然智能合约很好用，但是更有效的是，它们都有大量的预定义交易来处理各方之间最常见的交换类型，并限制智能合约以避免定义已存在的内容并防止滥用。

今天我们有比特币现金平台，它在安全性之间取得了良好的平衡，由稳定的PoW支持，并在其平台上构建链上容量。 这就是为什么我们认为比特币现金具有最佳平衡来构建第2层解决方案的原因。

## 描述

Keoken 是第二层解决方案，涉及数字资产和安全智能合约平台。 它专注于现实世界中的应用场景，以高效和简单的方式处理它们。它将涵盖各方之间进行交易时出现的大多数情况，以及进行常见活动所需的业务规则。

基于图灵完备的编程语言，Keoken填补了的加密货币协议和智能合约之间的空白。

它优先考虑以智能方式集成现有的、经过验证的、技术解决方案，避免承诺无法提供的内容或定义不明确的执行计划或目标。

该平台包括本币Keo，一种简单的治理模型和可持续发展融资模型。

它旨在适应不断变化的市场形势，包括改变Keoken生态系统各个方面的规则和流程。 我们促进和鼓励各方自由定义自己的交易规则。

资源总是有限的。 计算、存储和带宽都有成本。为了取得成功，Keoken对资源利用更加务实，因为当我们对某些交易或资产实施一些成本限制时，我们可以限制网络滥用。智能资源分配将创建最低廉的平台，这是使用动态规则促进平台使用的竞争和务实的结果。有时无限和免费，其实是最昂贵的。

基于帐户，Keoken可以更加友好地为用户提供多资产简化交易功能。

该项目受到多个已存在项目的影响，如BitcoinCash，Omni / Mastercoin，RSK / Ethereum，Decred，Dash，CounterParty，EOS等。但它是利用Bitprim-Node高级功能从头开始构建的。鼓励其他团队构建自己的协议实现，我们将在此过程中积极与他们合作。今天，我们比上线其他项目时更了解生态系统的潜力。为了扩展，有必要保持上述的功能，但需要全新的代码，完全从基础开发而来。

## 术语

* [Keoken协议。 规范定义的协议。](keoken-technical-specification.md)

* Keoken平台。 开源协议参考实施，运营基础设施和附加服务。 

* Keo token用于Keoken平台费用和治理。

* 交易模式（TF）。预定义的交易模式。

## 基本概念 

第二层协议应解决几个区块链平台已知的问题，即：

* 扩容性；

* 交易成本；

* 确认速度；

* 治理方法；

* 升级；

* 分叉处理；

* 发行人满足监管要求。

Keoken具有以下基本特征：

* Keoken（Keoken协议）是一种在现有区块链之上交换新智能层中的数字资产的协议。其主要任务是允许更高级的交易类型和用例。

* 它是一个开源平台（Keoken平台），用户可以在其中创建和转移资产，还可以构建更复杂的分布式应用程序。

* 它包括一种代币Keo，用于管理协议的治理问题，与平台交易相关的支付费用，最后为平台的开发提供资金。

* 协议基于交易格式（TF）和可编码业务规则（智能合约）。交易格式将包括现实中最常使用的交易类型，并且我们期望在将来看到交易类型有增加。一旦交易格式足够成熟并且我们已经涵盖了大多数可能的用例，我们将专注于用更灵活的方式来编写业务规则。

* 智能合约脚本/编程语言的演变将基于实际用例。我们选择一个特定用户的需求，并开发构建该用户案例所需的原始命令等。

* Keoken平台不要求所有交易都存储在链上，某些类型的交易可以合并到单个交易中以反映最新状态。目标之一是提供一个可以避免存储将来永远不相关的交易的平台。

![Keoken Platform](assets/images/keoken_platform.svg)

## 协议开发愿景

有一个新兴的点对点平台生态系统来实现分布式计算，每个项目都有自己的范围和任务。Keoken协议采用渐进式开发方法，专注于现实世界的用例，为现有问题创建解决方案，并利用可行的技术实现该目标。因此，它将创造一个有机增长和不断发展的生态系统。对可实现的目标及其实现方式的明确定义是推进平台发展的首选方式，避免定义不明确和无法实现的目标，这是Keoken的愿景。

## 协议治理

演化发展是任何去中心化协议中不可或缺的一部分。去中心化协议处于早期阶段。因此，他们需要发展，改进和变革的能力。在新的生态系统中，适应现实的能力是成功的关键。治理模型本身也必须能够随时间变化。在早期阶段，必须根据初始步骤的结果做出决策，从经验中学习并适应不断变化的环境，这是一个考虑协议变化的有效方法，这是健康和辉煌生态系统的关键推动因素。

Keo持有者将对协议中包含哪些特征进行投票，这意味着有一个简单，透明和快速的过程来定义协议演变。治理程序不允许在特定交易或余额中进行更改。只有私钥持有者才能掌控自己的资金，而Keo持有者对协议变更拥有投票权。

这种治理模式可以随时通过多数票改变，大于三分之二票的金额就可以强制它改变。

出于治理的目的，愿意参与决策过程的Keo持有者必须从表示有意愿成为代表的用户列表中选择一位代表。在接下来的两周内将选出21位代表（2016个块）。只有代表才有权投票，并且至少需要15票才能批准变更。任何变更批准后，有一个为期两天（288块）的否决期。如果超过一半的代币持有人投票反对所述变更，则批准的变更将被否决。

这可能不是一个完美的治理模式，但我们认为缺乏一种简单而透明的治理方式是最不透明的治理模式，不清楚决策应该如何做，而且不清楚为什么有些决策被采取，导致协议发展停滞和/或采取风险决策。希望Keoken的治理模式能够有机地改进并适应Keoken平台的需求。

比特币现金没有内置的治理机制，协议升级需要硬分叉。通过在第二层协议的分叉将有利于区块链，它需要Keoken用投票机制来确定区块链的哪个协议版本对平台有效。这对于避免相同资产在两个不同的区块链中有效并且失去存储完整性是必要的。

投票过程可能会更改本文件中定义的规则，但不能干扰平台中定义的每个资产的规则。

关于投票规则，首先，任何推动投票议程的Keo持有者必须包括投票建议费和议程提案的URL。第二，Keo持有人注册投票。第三，代表们在24小时内投票。最后，投票时有48小时的投票否决期。

![Keoken Protocol Governance](assets/images/keoken_protocol_governance.svg)

## 资产独立性

在Keoken平台中，任何用户都可以自由创建资产并定义其特定规则。该平台不干预任何部分的流程，并且没有功能禁止或审查任何类型的资产，这意味着发行人也可能包含规则，出于如帐户黑客攻击，密钥丢失或他们所认同的对资产拥有者便利的任何规则等任何原因还原交易。 Keoken协议没有权力干预那些前提是私人之间的协议是该关系中的法律“业务规则”。

![Keoken Asset](assets/images/keoken_asset.svg)

## 平台和协议开发成本

治理和明确透明的开发资金等概念是协议设计所依据的不可或缺的组成部分。正如之前所说，分布式计算是一个新的生态系统。如果没有明确定义发展基金的来源，则无法保证协议的开发符合平台用户的利益。同样，即使它不完美，有一个明确的定义也比没有定义更好。

部分或全部交易（如创建新资产）将产生费用。收取的费用会转到一个没人可以使用的特殊地址。有时，治理投票流程有助于决定如何处理特殊“费用”帐户中的Keo代币。他们可以决定销毁这些代币、按比例分配给Keo持有者、为平台需求（开发和其他）提供资金，或以上的组合或完全不同的用处。

## 交易费用

在现实世界中，当交易是企业对消费者或电子商务时，卖方通常支付费用，但在企业对企业中，买方通常支付费用。 Keoken也是类似的结构。

资产创建者定义由谁负责支付费用， 资产创建者也可以赞助费用。

费用结构可以通过治理模型进行更改，会根据情况随时更改。

资产是恒定的，但有注册费和续展费。资源是有限的，而没有实际用途的资产会产生费用。例如，每种资产类型都有不同的费用，在某些情况下，土地财产登记处可能没有续期费，但交易费较高。

例如，仅交易成本约为0.01美元，新资产的创建、续订费用约为1,000美元。 此外，投票也需要支付费用。


## 特点

### 常用案例

* 本币(KEO)

* 发行Token

* 机构发行

* 筹措基金

* 稳定数字货币

* 信托

* 证券

* 期货

* 去中心化交易

* 数字收藏品

* 查证

* 拍卖

* 储备基金

### 最常见的交易类型

* 资产创造

* 发送Tokens/Units

* 投票提案

* 可逆发送：在确定的时间段内可以逆转的交易。

* 折衷的密钥消息：通知平台一个钱包已被泄露。

* 保险库：每个帐户都有一个保险库，资产可能会有一些限制。

* 交易限制限制：它限制授权给帐户所有者的最大数量和频率。

* 担保交易

* 发送给所有人：也可用于向给定资产的每个令牌持有者发送消息。

* 数据存储/发送。

### 服务提供商 

以下某些服务是内部服务，而其他服务可通过API访问，可能需要付费。

* 投票引擎。

* 钱包名系统：用于注册易记的名称作为钱包地址的代理。

* 资产名称系统“防伪”。

* 评级

    * 评级系统将跟踪记录帐户中涉及的交易以及这些交易中涉及的其他帐户的反馈。

    * “知道”可能会提供其他知道此帐户持有人的帐户。 这可用于资产追回或其他目的。

* 提供者。

* 通过代理在区块链中保存：交易代币的用户可以在自己的代币中完成交易，并雇佣第三方将该交易存储在区块链中，并以BCH（或主网货币）收费。

* 数据馈送提供商：它们将数据馈送存储在区块链中，例如美元/人民币汇率。 他们还定义了使用该数据源的费用。 调用该数据馈送的任何事务都必须支付创建者确定的费用。

* 交易担保：若无过失行为的卖方未从收款人处收到付款，担保人将授予该付款。当卖方处理交易时，担保人责任终止。

* 等待确认：将存储待处理的确认事务，以确定要处理的可用余额。

* Corvina存储:将所有事务的完整日志存储到区块链，以提供快速启动新节点或轻量级钱包。

* 契约

* 调解

* 存储

## 紧急事项

### 紧急事务只允许委托。

* 处理分叉

* 更新

* 平台暂停和回滚

* 暂停某种资产的交易

## 结论

Keoken设计时考虑到了效率，使用了一个可靠的团队所熟知的技术。它为分散的区块链生态系统上的交易提供了必要的规则。

由于其设计简单，可以通过比特币现金协议和其他区块链轻松实现。

在大多数情况下，大多数区块链扩展解决方案往往因为限制性或过于复杂而不能使用。相反，Keoken赋予资产创建者定义自己规则的权力。除此之外，Keoken持有者可以通过参与其多层动态治理系统来控制协议的未来。

## 关于BITPRIM

自2014年以来，我们的多学科研究团队一直在开发工具去帮助和吸引开发人员，促进加密货币的大规模使用。 Bitprim专注于透明度、专业度、客户服务以及与其他团队的合作。 Keoken是一种开放式协议，具有利用Bitprim-Node高级功能从头开始构建的性能参考实现。 Bitprim总部位于阿根廷。
